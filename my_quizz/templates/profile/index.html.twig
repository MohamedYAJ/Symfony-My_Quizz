{% extends 'base.html.twig' %}

{% block title %}Hello ProfileController!{% endblock %}

{% block body %}

<div class="flex flex-col items-center w-full">
    <div class=" border-[2px] mt-10 w-3/5 p-5 rounded-xl space-y-5">
        <h1 class="text-3xl font-bold mb-5 text-center">User Information</h1>
        <p class="text-xl"><strong>Username:</strong> {{ user.username }}</p>
        <p class="text-xl"><strong>Email:</strong> {{ user.email }}</p>
        <p class="text-xl"><strong>Password:</strong> *******</p>
        <a href="{{ path('app_profile_edit') }}">
            <button class="bg-blue-600 text-white rounded-lg text-xl px-3 py-1 mt-5">Edit Profile</button>
        </a>
        
    </div>
    
       <div class=" border-[2px] mt-10 w-3/5 p-5 rounded-xl mb-10">
        <h1 class="text-3xl font-bold mb-5 text-center">Quiz History</h1>
        {% if attempts is not empty %}
        <table class="min-w-full table-auto border border-gray-200">
            <thead>
                <tr class="bg-blue-600 text-left text-white text-sm">
                    <th class="py-3 uppercase px-4">Quiz name</th>
                    <th class="py-3 uppercase px-4">Score</th>
                    <th class="py-3 uppercase px-4">Date</th>
                </tr>
            </thead>
            <tbody>

        {% for attempt in attempts %}
            <tr class="border-t text-gray-700 hover:bg-gray-50">
                <td class="py-2 px-4">{{ attempt.categorie.name }}</td>
                <td class="py-2 px-4">{{ attempt.score }} / {{ attempt.categorie.questions|length }}</td>
                <td class="py-2 px-4">
                {{ attempt.attemptedAt|date('Y-m-d H:i') }}</td>
            </tr>

        {% endfor %}
    </tbody>
    </table>
{% else %}
    <p>You haven't taken any quizzes yet.</p>
{% endif %}
    </div>
</div>
</div> 
{% endblock %}

